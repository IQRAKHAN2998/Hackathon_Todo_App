---
id: 1
title: update-project-constitution
stage: constitution
date: 2026-01-05
surface: agent
model: Claude Sonnet 4.5
feature: none
branch: master
user: user
command: /sp.constitution
labels: [constitution, setup]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
 - .specify/memory/constitution.md
tests:
 -
---

## Prompt

```
This project is a 5-phase Hackathon Todo system built incrementally.
You MUST follow these constitutional rules at all times:

GLOBAL RULES (apply to all phases):
1. I (the user) will NOT write any manual code.
2. All code must be generated by CCR based strictly on written specs.
3. No feature may be implemented without an approved spec.
4. If a bug or issue occurs, you MUST fix it by updating the spec, not by directly patching code.
5. Specs are the single source of truth.
6. Each phase must build on top of the previous phase without breaking it.
7. Code clarity, separation of concerns, and judge readability are higher priority than feature count.

PHASE 1 ‚Äì Console Todo (CLI):
- Python-based CLI Todo app
- In-memory data only (no files, no database)
- Features limited to: add, list, update, delete, toggle complete
- Business logic must be separated from CLI input/output
- No external libraries beyond Python standard library

PHASE 2 ‚Äì Full Stack Web App:
- Next.js frontend and FastAPI backend in a monorepo
- Proper REST API design
- JWT-based authentication is mandatory
- Database schema must be defined in specs before implementation
- Frontend must never access the database directly

PHASE 3 ‚Äì AI Todo Agent:
- Natural language Todo management
- AI agent must NOT access the database directly
- All actions must go through MCP tools
- Each tool must have clearly defined inputs and outputs
- Conversation history must be persisted

PHASE 4 ‚Äì Kubernetes Deployment:
- Frontend and backend must be containerized
- Deployed on Minikube
- Helm charts are required
- Services must be stateless and configurable via environment variables

PHASE 5 ‚Äì Event-Driven System:
- Task operations must emit events
- Use Kafka or Dapr for event handling
- Services must be loosely coupled
- Event handlers must be idempotent

FINAL RULE:
If a behavior or feature is not defined in a spec, it must not be implemented.

Acknowledge this constitution and wait for the first spec.
```

## Response snapshot

I have successfully updated the project constitution based on the provided rules for the 5-phase Hackathon Todo system. The updated constitution now includes:

- Core Principles: Spec-Driven Development, No Manual Code by User, Spec-Based Bug Fixes, Phase Progression, Code Quality Priority, and Spec Compliance
- Phase-Specific Requirements for all 5 phases
- Development Workflow guidelines
- Governance rules

The constitution is now stored in .specify/memory/constitution.md with version 1.0.0.

## Outcome

- ‚úÖ Impact: Project constitution established with all 5 phases defined
- üß™ Tests: No tests required for constitution update
- üìÅ Files: Updated .specify/memory/constitution.md with new constitution
- üîÅ Next prompts: Ready to receive first spec for implementation
- üß† Reflection: Constitution provides clear framework for all 5 phases of development

## Evaluation notes (flywheel)

- Failure modes observed: None
- Graders run and results (PASS/FAIL): N/A
- Prompt variant (if applicable): N/A
- Next experiment (smallest change to try): N/A